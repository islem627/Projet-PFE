<body>
  <div class="container-scroller">
   
    <!-- partial:partials/_navbar.html -->
     <app-header></app-header>

    <br><br><br>
    <!-- partial -->
    <div class="container-fluid page-body-wrapper">
      <!-- partial:partials/_sidebar.html -->
     <app-sidebar></app-sidebar>
      <!-- partial -->
      <div class="main-panel">
        <div class="content-wrapper">
          <div class="page-header">
            <h3 class="page-title">
              <span class="page-title-icon bg-gradient-primary text-white me-2">
                <i class="mdi mdi-account-multiple"></i>
              </span>
              Users List            
            </h3>
            <nav aria-label="breadcrumb">
              <ul class="breadcrumb">
                <li class="breadcrumb-item active" aria-current="page">
                  <div style="
                    display: flex;
                    align-items: center;
                    background-color: #caafd26e; /* Violet pastel foncé */
                    border-radius: 12px;
                    padding: 6px 10px;
                    box-shadow: 0 2px 6px rgba(218, 161, 230, 0.742);
                    width: fit-content;
                    gap: 8px;
                  ">
                    <input type="text"
                           [(ngModel)]="searchText"
                           placeholder="Search User by Username..."
                           style="
                             border: none;
                             background: linear-gradient(135deg, #b388ff, #e1bee7);
                             border-radius: 8px;
                             outline: none;
                             padding: 8px 10px;
                             color: white;
                             font-size: 14px;
                             width: 180px;
                           "/>
                
                    <button (click)="search()"
                            style="
                             background: linear-gradient(135deg, #b388ff, #e1bee7);
                             border: none;
                              border-radius: 50%;
                              width: 36px;
                              height: 36px;
                              display: flex;
                              align-items: center;
                              justify-content: center;
                              cursor: pointer;
                              transition: background-color 0.3s ease;
                            "
                            onmouseover="this.style.backgroundColor='#6a1b9a'"
                            onmouseout="this.style.backgroundColor='#8e24aa'">
                      <i class="mdi mdi-magnify" style="color: white; font-size: 20px;"></i>
                    </button>
                  </div>
                </li>
              </ul>
            </nav>
          </div>
       
          <div class="row">
            <div class="col-12 grid-margin">
              <div class="card">
                <div class="card-body">
              
                  <div class="table-responsive">
                    <table class="table">
                      <thead>
                        <tr>
                          <th>ID</th>
                          <th>Photo</th>
                          <th> Username </th>
                          <th> Email </th>
                          <th> Phone </th>
                          <th> Adress </th>
                          <th> Role </th>
                          <th>Action</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let u of listusers |paginate:{itemsPerPage:3,currentPage:c};">
                          <td>{{u.id}}</td>
                      
                          <td>
                            <img [src]="'http://localhost:8762/User/files/' + u.photo" class="me-2" alt="image">
                          </td>
                          <td> {{u.username}}</td>
                          
                          <td> {{u.email}}</td>
                          <td> {{u.phone}}</td> 
                          <td> {{u.address}} </td>
                          <td> {{u.role}} </td>
                          <td>
                                    <!-- Détails Livreur -->
<button type="button" 
class="btn-circle btn-gradient-primary btn-rounded  action-btn" 
(click)="detailsuser(u.id)">
<i class="mdi mdi-account-search-outline text-white" style="cursor: pointer;"></i>
</button>

<!-- Modifier Livreur -->
<button type="button" 
class="btn-circle btn-gradient-success btn-rounded  action-btn" 
(click)="updateuser(u.id)">
<i class="mdi mdi-account-edit-outline" style="cursor: pointer;"></i>
</button>

<!-- Supprimer Livreur -->
<button type="button"
class="btn-circle btn-gradient-danger btn-rounded action-btn" 
(click)="deleteuser(u.id)">
<i class="mdi mdi-account-remove-outline text-white" style="cursor: pointer;"></i>
</button>



                          </td>
                        </tr>
                        
                      </tbody>

                    </table>
                    <pagination-controls (pageChange)="c=$event"></pagination-controls>

                    <!-- Add User Button -->
                    <button type="button"
                    class="btn-gradient-danger btn-rounded btn-fw add-user-button"
                    (click)="ajouteruser()"
                    style="
                      position: fixed;
                      bottom: 200px; /* Distance from the bottom of the viewport */
                      right: 90px;  /* Distance from the right of the viewport */
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      background: linear-gradient(135deg, #b388ff, #e1bee7);
                      color: white;
                      border: none;
                      padding: 8px 16px;
                      border-radius: 25px;
                      cursor: pointer;
                      transition: background-color 0.3s ease;
                    "
                    onmouseover="this.style.backgroundColor='#7b1fa2'" 
                    onmouseout="this.style.backgroundColor='#9c4dcc'">
            
              <!-- Icon for adding user -->
              <i class="mdi mdi-account-plus" style="font-size: 20px; margin-right: 8px; color: white;"></i>
            
              <!-- Button Text -->
              Add User
            </button>
            
                    
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>
                    
        <!-- content-wrapper ends -->
        <!-- partial:partials/_footer.html -->
     <app-footer></app-footer>
      
        <!-- partial -->
      </div>
      <!-- main-panel ends -->
    </div>
    <!-- page-body-wrapper ends -->
  </div>
  <!-- container-scroller -->
  <!-- plugins:js -->
  <script src="assets/vendors/js/vendor.bundle.base.js"></script>
  <!-- endinject -->
  <!-- Plugin js for this page -->
  <script src="assets/vendors/chart.js/chart.umd.js"></script>
  <script src="assets/vendors/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
  <!-- End plugin js for this page -->
  <!-- inject:js -->
  <script src="assets/js/off-canvas.js"></script>
  <script src="assets/js/misc.js"></script>
  <script src="assets/js/settings.js"></script>
  <script src="assets/js/todolist.js"></script>
  <script src="assets/js/jquery.cookie.js"></script>
  <!-- endinject -->
  <!-- Custom js for this page -->
  <script src="assets/js/dashboard.js"></script>
  <!-- End custom js for this page -->
</body>

